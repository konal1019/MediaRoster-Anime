import{escapeHTML}from"./utils.af173b93.js";export function createFlashcard(a,s){const i=a.images?.webp?.image_url??"placeholder.png",l=a.title_english||a.title,d=escapeHTML(a.synopsis||a.background||"No synopsis available."),n=`#/details-${a.mal_id}`;let c=a.studios?.map(a=>a.name).join(", ")||"Unknown";c=c.length<20?c:c.slice(0,20)+"...";let e="",r="";switch(s){case"top-rated":e=`\n              <div class="flashcard-episodes"><i class="fas fa-play-circle"></i> ${a.episodes||"N/A"} episodes</div>\n              <div class="flashcard-status"><i class="fas fa-tv"></i> ${a.status||"Unknown"}</div>\n          `,r=`\n              <div class="flashcard-rank">#${a.rank||""}</div>\n              <div class="flashcard-rating"><i class="fas fa-star"></i> ${a.score||"N/A"}</div>\n              <div class="flashcard-type"><i class="fas fa-video"></i> ${a.type||"N/A"}</div>\n          `;break;case"most-popular":e=`\n              <div class="flashcard-episodes"><i class="fas fa-play-circle"></i> ${a.episodes||"N/A"} episodes</div>\n              <div class="flashcard-status"><i class="fas fa-tv"></i> ${a.status||"Unknown"}</div>\n          `,r=`\n              <div class="flashcard-rank">#${a.popularity||""}</div>\n              <div class="flashcard-rating"><i class="fa-solid fa-user-group"></i>${a.members?.toLocaleString()||"N/A"}</div>\n              <div class="flashcard-type"><i class="fas fa-video"></i> ${a.type||"N/A"}</div>\n          `;break;case"airing":e=`\n              <div class="flashcard-studio"><i class="fa-solid fa-clapperboard"></i>${c}</div>\n              <div class="flashcard-status"><i class="fas fa-calendar-days"></i> ${a.broadcast?.string||"Unscheduled"}</div>\n          `,r=`\n              <div class="flashcard-rank">#${a.rank||""}</div>\n              <div class="flashcard-rating"><i class="fas fa-star"></i> ${a.score||"N/A"}</div>\n              <div class="flashcard-type"><i class="fas fa-video"></i> ${a.type||"N/A"}</div>\n          `;break;case"seasonal":e=`\n              <div class="flashcard-episodes"><i class="fas fa-play-circle"></i> ${a.episodes||"N/A"} episodes</div>\n              <div class="flashcard-studio"><i class="fa-solid fa-clapperboard"></i>${c}</div>\n          `,r=`\n              <div class="flashcard-rank">#${a.rank||""}</div>\n              <div class="flashcard-rating"><i class="fas fa-star"></i> ${a.score||"N/A"}</div>\n              <div class="flashcard-type"><i class="fas fa-video"></i> ${a.type||"N/A"}</div>\n          `}return`\n      <a href="./${n}" class="flashcard-link" data-synopsis="${d}">\n          <div class="flashcard">\n              <img src="${i}" loading="lazy" alt="${l}" class="flashcard-image" width="225" height="320" loading="lazy">\n              <div class="flashcard-overlay">\n                  <div class="flashcard-title">${l}</div>\n                  ${e}\n              </div>\n              ${r}\n          </div>\n      </a>\n  `}export async function createSection({title:a,apiFunction:s,cardType:i,containerClass:l,titleClass:d,galleryClass:n}){try{const c=await s();if(!c||0===c.length)return`<div class="${l}"><h2 class="${d}">${a}</h2><p>No anime found for this category.</p></div>`;const e=c.map(a=>createFlashcard(a,i)).join("");return"horizontal-gallery"===n?`\n            <div class="${l}">\n                <h2 class="${d}, floating-header">${a}</h2>\n                <div class="gallery-prev">&lt</div>\n                <div class="${n}">\n                    ${e}\n                </div>\n                <div class="gallery-next">&gt</div>\n            </div>\n            </div>\n        `:`\n            <div class="${l}">\n                <h2 class="${d}, floating-header">${"seasonal"===i?`${a} (${c[0].season}, ${c[0].year})`:a}</h2>\n                <div class="${n}">\n                    ${e}\n                </div>\n            </div>\n        `}catch(s){return console.error(`Failed to load ${a}:`,s),`<div class="error">Failed to load ${a}. Please try again later.</div>`}}